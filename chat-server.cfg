// Shazza-Works Xonotic Bare Bones Colour Chat Config sheet (Swamp Edit)
// 
// say what we are doing
clear
echo "[*] Setting up Colour Chat Config Now..."
// set a server for chat downloads
// edit this if your server is different.
set chat_server "http://localhost:5000/chat"
// show the user
echo "[!] Using: $chat_server as chat server url."
echo "[*] You may have to edit this for your use case."
// setup commands needed to get text
alias GetColoredText "curl $chat_server?say=$send_var/chat"
alias dnload_text "GetColoredText"
alias spk_all "commandmode msg"
// Replacing this long function parameter with a single parameter ${1-}.
// ${1-} means all the parameters provided to the alias.
alias msg "set send_var \"${1-}\" ; defer 0.5 print_chat"
// set a button we can use to chat with
bind o "spk_all"
echo "[*] Button 'o' is now bound to colour chat command."
// deal with the printing of the text or status info
// defer is a wait like app that may need to be increased if you have slow network.
// not sure what this say1 alias is being used for.
// again replace long function paremeter with a single parementer.
alias say1 "set send_var \"${1-}\""
alias print_chat "dnload_text; defer 1 load_text"
alias load_text "exec dlcache/chat"
// EOF
